/*  ═══════════════════════════════════════════════════════════
   3-D PROJECT WHEEL
   • Mobile ≈ 2-D swipe slider
   • ≥640 px  → true 3-D carousel
   ========================================================== */

/* --- Layout wrapper --------------------------------------- */
.projects{
  position:relative;
  padding:6rem 0;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* --- buttons ---------------------------------------------- */
.wheel-btn{
  position:absolute;
  top:50%; translate:0 -50%;
  background:#fff3;
  border:none; color:#fff;
  font-size:2.6rem; line-height:1;
  width:3rem; aspect-ratio:1;
  border-radius:50%;
  backdrop-filter:blur(4px);
  cursor:pointer;
  transition:background .2s;
  z-index:3;
}
.wheel-btn:hover{ background:#fff6; }
.wheel-btn:active{ scale:.92; }

.wheel-btn--prev{ left:1rem;  }
.wheel-btn--next{ right:1rem; }

/* --- the wheel itself ------------------------------------- */
.wheel{
  --card-count:   5;     /* JS overwrites this automatically   */
  --radius:      410px;  /* distance from centre to card centre*/
  --card-angle:  calc(360deg/var(--card-count));
  --current-idx: 0;      /* JS updates this                     */

  position:relative;
  width:min(90vw, 320px);
  aspect-ratio:3/4;
  perspective:1200px;    /* bigger ⇒ shallower wheel           */
}
.wheel__card[data-front="true"]{ z-index: 5; }

/* keep cards stacked in 3-D */
.wheel__card{
  position:absolute; inset:0;
  padding:1.2rem .9rem 2.2rem;
  display:flex; flex-direction:column;
  align-items:center; text-align:center;
  gap:1.1rem;

  background:#111d;         /* translucent dark glass */
  border:1px solid #fff2;
  border-radius:18px;
  box-shadow:0 6px 20px #0008;
  color:#fff;

  /* 3-D placement – will be *really* set in JS */
  transform:rotateY(var(--rot)) translateZ(var(--radius));

  opacity:var(--visible, .15);        /* back cards fade */
  scale:  var(--frontScale, .8);
  transition:
    transform .8s var(--ease, cubic-bezier(.6,.2,.3,1)),
    opacity   .5s ease,
    scale     .8s var(--ease, cubic-bezier(.6,.2,.3,1));
}

.wheel__card img{
  width:100%; aspect-ratio:16/9; object-fit:cover;
  border-radius:10px;
}

/* --- mobile fallback : 2-D swipe ---------------------------- */
@media (max-width:639px){
  .wheel{
    perspective:none;
    overflow-x:auto; scroll-snap-type:x mandatory;
    display:flex; gap:1rem; width:90vw;
  }
  .wheel__card{
    position:static; flex:0 0 80%; transform:none!important;
    opacity:1!important; scale:1!important;
    scroll-snap-align:center;
  }
  .wheel-btn{display:none;}
}
